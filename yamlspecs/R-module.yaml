# Builds the module for R. It first includes all the definitions
# for the R build and then overwrites specific keys
!include R.yaml
!include /opt/rcic/include/rcic-module.yaml
---
- package: R Module
  pkgname: "{{ name }}_{{version}}-module"
  category: LANGUAGES
  description: >
    module for {{ name }} version {{ version }} OpenBLAS 
    version {{versions.OpenBLAS}}. Java version {{ versions.java }}  
  module:
    name: "{{ version }}"
    path: "{{ pkg_defaults.module.RCICmpath }}/{{category}}/{{ name }}"
    prepend_path:
      - "{{ pkg_defaults.module.prepend_path }}"
    prereq:
      - OpenBLAS/{{versions.OpenBLAS}}
      - java/{{versions.java}}
  requires:
    - "{{ name }}_{{ version }}"
    - rcic-module-support
